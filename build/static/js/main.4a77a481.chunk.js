(this["webpackJsonpsupervision-tracker-react"]=this["webpackJsonpsupervision-tracker-react"]||[]).push([[0],{17:function(e,t,n){e.exports={Input:"Input_Input__3r5Ke",Label:"Input_Label__1qyHr",InputElement:"Input_InputElement__2m88K",Invalid:"Input_Invalid__16Mis",Hide:"Input_Hide__23AQd"}},22:function(e,t,n){e.exports={Auth:"Auth_Auth__2MsY-",slideInFromLeft:"Auth_slideInFromLeft__1odrX",fadein:"Auth_fadein__1cwaZ",SignupBtn:"Auth_SignupBtn__1f7XD"}},27:function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__2SpXc",active:"NavigationItem_active__2v2td"}},28:function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__3kXLK",AddClinic:"SideDrawer_AddClinic__DjcIf"}},29:function(e,t,n){e.exports={Layout:"Layout_Layout__2BpO9",Content:"Layout_Content__3H3X8"}},30:function(e,t,n){e.exports={Button:"Button_Button__3gFiX",Success:"Button_Success__2Rka1",Danger:"Button_Danger__2ogZq",Login:"Button_Login__Ebhes",Signup:"Button_Signup__3y0Jo"}},31:function(e,t,n){e.exports={Member:"Member_Member__3e4ci",Id:"Member_Id__1leHA"}},44:function(e,t,n){e.exports={Logo:"Logo_Logo__1N0xH"}},45:function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__ApScI"}},46:function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__1fnFX"}},47:function(e,t,n){e.exports={AddMember:"AddMember_AddMember__Q7-8a"}},49:function(e,t,n){e.exports={ViewHistory:"ViewHistory_ViewHistory__r6K__"}},50:function(e,t,n){e.exports={Login:"Login_Login__IEkli"}},51:function(e,t,n){e.exports={Dashboard:"Dashboard_Dashboard__2Nl7v"}},52:function(e,t,n){e.exports={Roster:"Roster_Roster__2-Lyk"}},54:function(e,t,n){e.exports=n(83)},63:function(e,t,n){},64:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),l=n.n(o),i=n(14),c=n(5),u=n(15),s=n(43),m=(n(63),n(64),n(3)),d=n(4),p=n(7),h=n(6),g=n(2),f=n(53),b=function(e){var t=e.auth,n=e.component,a=Object(f.a)(e,["auth","component"]);return r.a.createElement(g.b,Object.assign({},a,{render:function(e){return t?r.a.createElement(n,e):r.a.createElement(g.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},v=n(44),_=n.n(v),E=function(){return r.a.createElement("div",{className:_.a.Logo},r.a.createElement("img",{src:"https://cdn.dribbble.com/users/654369/screenshots/1855571/untitled-4.png",alt:"Soup logo"}))},y=n(45),O=n.n(y),j=function(e){return r.a.createElement("header",{className:O.a.Toolbar},r.a.createElement(E,null),e.isAuth?r.a.createElement("span",null,"Welcome, User!"):null)},A=n(46),k=n.n(A),S=n(27),C=n.n(S),I=function(e){var t=document.getElementsByClassName("active");return console.log(t),t.length>0&&(console.log(t),t[0].parentNode.style={backgroundColor:"#fff"}),r.a.createElement("li",{className:C.a.NavigationItem},r.a.createElement(i.b,{exact:e.exact,activeClassName:C.a.active,to:e.link},e.children))},N=function(e){return r.a.createElement("ul",{className:k.a.NavigationItems},r.a.createElement(I,{link:"/roster"},"My Roster"),r.a.createElement(I,{link:"/members"},"All members"),r.a.createElement(I,{link:"/logout"},"Logout"))},T=n(28),L=n.n(T),w=n(47),H=n.n(w),x=function(e){return r.a.createElement("div",{className:H.a.AddMember},r.a.createElement("span",null),r.a.createElement("p",null,"Add New Member"))},M=function(e){return r.a.createElement("div",{className:L.a.SideDrawer},r.a.createElement("div",{className:L.a.AddClinic},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("div",null,r.a.createElement(x,null),r.a.createElement("nav",null,r.a.createElement(N,null))))},D=n(29),B=n.n(D),U=Object(c.b)((function(e){return{isAuthorized:null!==e.auth.token}}))((function(e){return r.a.createElement("div",{className:B.a.Layout},r.a.createElement(j,{isAuth:e.isAuthorized}),e.isAuthorized?r.a.createElement(M,null):null,r.a.createElement("main",{style:e.isAuthorized?{color:"#fff",padding:"30px"}:{gridColumn:"1 / -1"},className:B.a.Content},e.children))})),R=n(21),z=n(12),V=n(17),X=n.n(V),q=function(e){var t=null,n=e.registring?null:X.a.Hide,a=[X.a.InputElement,n];switch(e.invalid&&e.shouldValidate&&e.touched&&e.registring&&a.push(X.a.Invalid),e.elementType){case"input":t=r.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=r.a.createElement("textarea",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"select":t=r.a.createElement("select",{className:a.join(" "),onChange:e.changed,value:e.value},e.elementConfig.options.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)})));break;default:t=r.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}))}return r.a.createElement("div",{className:X.a.Input},t,r.a.createElement("label",{className:X.a.Label},e.label))},F=n(30),J=n.n(F),P=function(e){return r.a.createElement("button",{className:[J.a.Button,J.a[e.btnType]].join(" "),onClick:e.clicked},e.children)},G=n(22),K=n.n(G),Z=n(48),W=n.n(Z),$=function(e,t,n){return function(a){a({type:"AUTH_START"});var r={user:{email:e,password:t}},o="https://abasoup.herokuapp.com/api/users/login/";n&&(o="https://abasoup.herokuapp.com/api/users/"),W.a.post(o,r).then((function(e){var t,n,r,o;console.log(e),a((t=e.data.token,n=e.data.id,r=e.data.roster_members,o=e.data.clinics,{type:"AUTH_SUCCESS",idToken:t,userId:n,roster:r,clinics:o}));var l;a((l=36e3,function(e){setTimeout((function(){e({type:"AUTH_LOGOUT"})}),1e3*l)}))})).catch((function(e){console.log(e)}))}},Q=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={controls:{email:{elementType:"input",elementConfig:{type:"text"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1,label:"Email"},password:{elementType:"input",elementConfig:{type:"password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1,label:"Password"},intern:{elementType:"input",elementConfig:{type:"checkbox"},value:"",validation:{},valid:!0,touched:!1,label:"I'm an intern"}},isSignup:!1},e.checkValidity=function(e,t){if(!t)return!0;var n=!0;if(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.minLength&&n),t.isEmail){n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)&&n}if(t.isNumeric){n=/^\d+$/.test(e)&&n}return n},e.inputChangedHandler=function(t,n){var a=Object(z.a)(Object(z.a)({},e.state.controls),{},Object(R.a)({},n,Object(z.a)(Object(z.a)({},e.state.controls[n]),{},{value:t.target.value,valid:e.checkValidity(t.target.value,e.state.controls[n].validation),touched:!0,checked:t.target.checked})));e.setState({controls:a})},e.submitHandler=function(t){t.preventDefault(),e.props.onAuth(e.state.controls.email.value,e.state.controls.password.value,e.state.isSignup)},e.switchAuthModeHandler=function(){e.setState((function(e){return{isSignup:!e.isSignup}}))},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=[];for(var n in this.state.controls)t.push({id:n,config:this.state.controls[n]});var a=t.map((function(t){return r.a.createElement(q,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,changed:function(n){return e.inputChangedHandler(n,t.id)},shouldValidate:t.config.validation,invalid:!t.config.valid,touched:t.config.touched,label:t.config.label,registring:e.state.isSignup})})),o=null;this.props.isAuthenticated&&(o=r.a.createElement(g.a,{to:"/"}));var l=r.a.createElement("p",null,"Not a member?",r.a.createElement("span",{onClick:this.switchAuthModeHandler,className:K.a.SignupBtn},"Join Soup"));return this.state.isSignup&&(l=r.a.createElement("p",null,"Already a member?",r.a.createElement("span",{onClick:this.switchAuthModeHandler,className:K.a.SignupBtn},"Log in"))),console.log(this.state.isSignup),r.a.createElement("div",{className:K.a.Auth},o,r.a.createElement("form",{onSubmit:this.submitHandler},r.a.createElement("h2",null,this.state.isSignup?"Join Soup":"Login to Soup"),a,r.a.createElement(P,{btnType:"Login"},this.state.isSignup?"Signup":"Login"),l))}}]),n}(a.Component),Y=Object(c.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!==e.auth.token}}),(function(e){return{onAuth:function(t,n,a){return e($(t,n,a))}}}))(Q),ee=n(49),te=n.n(ee),ne=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={controls:{search:{elementType:"text",elementConfig:{type:"text",placeholder:"Your Id (i.e. 123)"},value:"",validation:{},valid:!0}}},e.inputChangedHandler=function(t){var n=Object(z.a)(Object(z.a)({},e.state.controls),{},{search:Object(z.a)(Object(z.a)({},e.state.controls.search),{},{value:t.target.value})});e.setState({controls:n})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:te.a.ViewHistory},r.a.createElement("h2",null,"Check your history"),r.a.createElement("form",null,r.a.createElement(q,{elementType:this.state.controls.search.elementType,elementConfig:this.state.controls.search.elementConfig,value:this.state.controls.search.value,changed:function(t){return e.inputChangedHandler(t)},shouldValidate:this.state.controls.search.validation,invalid:!this.state.controls.search.valid}),r.a.createElement(P,{btnType:"Search"},"Go!")))}}]),n}(a.Component),ae=n(50),re=n.n(ae),oe=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:re.a.Login},r.a.createElement(ne,null),r.a.createElement(Y,null))}}]),n}(a.Component),le=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.onLogout()}},{key:"render",value:function(){return r.a.createElement(g.a,{to:"/login"})}}]),n}(a.Component),ie=Object(c.b)(null,(function(e){return{onLogout:function(){return e({type:"AUTH_LOGOUT"})}}}))(le),ce=n(51),ue=n.n(ce),se=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:ue.a.Dashboard},"Dashboard")}}]),n}(a.Component),me=n(31),de=n.n(me),pe=Object(c.b)((function(e){return{roster:e.auth.roster}}))((function(e){return r.a.createElement("section",{className:de.a.Member},r.a.createElement("main",null,r.a.createElement("span",{class:de.a.Id},e.memberId),r.a.createElement("button",null,"Report"),r.a.createElement("button",null,"Add Soup"),r.a.createElement("h3",null,e.name)),r.a.createElement("aside",null,r.a.createElement("span",null,"10%"),r.a.createElement("span",null,"50%"),r.a.createElement("span",null,"34%")))})),he=n(52),ge=n.n(he),fe=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;console.log(this.props.roster);var t=Object.keys(this.props.roster).map((function(t){console.log(t);var n=e.props.roster[t].name;return r.a.createElement(pe,{key:t,memberId:t,name:n})}));return r.a.createElement("div",{className:ge.a.Roster},r.a.createElement("h1",null,"My Roster"),r.a.createElement(x,null),t)}}]),n}(a.Component),be=Object(c.b)((function(e){return{roster:e.auth.roster}}))(fe),ve=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(U,null,r.a.createElement(g.d,null,r.a.createElement(g.b,{path:"/login",component:oe}),r.a.createElement(g.b,{path:"/logout",component:ie}),r.a.createElement(b,{auth:this.props.isAuthorized,path:"/roster",component:be}),r.a.createElement(b,{auth:this.props.isAuthorized,path:"/members",component:be}),r.a.createElement(b,{auth:this.props.isAuthorized,path:"/",exact:!0,component:se}),r.a.createElement(g.a,{to:"/"}))))}}]),n}(a.Component),_e=Object(c.b)((function(e){return{isAuthorized:null!==e.auth.token}}))(ve);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ee=function(e,t){return Object(z.a)(Object(z.a)({},e),t)},ye={token:null,userId:null,error:null,loading:!1,authRedirectPath:"/",roster:null,clinics:null},Oe=function(e,t){return Ee(e,{error:null,loading:!0})},je=function(e,t){return Ee(e,{token:t.idToken,userId:t.userId,error:null,loading:!1,roster:t.roster,clinics:t.clinics})},Ae=function(e,t){return Ee(e,{error:t.error,loading:!1})},ke=function(e,t){return Ee(e,{token:null,userId:null})},Se=function(e,t){return Ee(e,{authRedirectPath:t.path})},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Oe(e);case"AUTH_SUCCESS":return je(e,t);case"AUTH_FAIL":return Ae(e,t);case"AUTH_LOGOUT":return ke(e);case"SET_AUTH_REDIRECT_PATH":return Se(e,t);default:return e}},Ie=Object(u.c)({auth:Ce}),Ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,Te=Object(u.e)(Ie,Ne(Object(u.a)(s.a)));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,{store:Te},r.a.createElement(i.a,null,r.a.createElement(_e,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.4a77a481.chunk.js.map